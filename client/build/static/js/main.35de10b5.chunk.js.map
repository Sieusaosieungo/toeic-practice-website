{"version":3,"sources":["utils/authHeader.js","services/index.js","components/Register/index.js","components/Login/index.js","components/Update/index.js","components/NavBar/RightNav/index.js","utils/CKEditor.config.js","components/CKEditorCustom/index.js","utils/usePlatformDetect.js","pages/PostGrammar/index.js","pages/MyPostsGrammar/index.js","pages/PostTopicGrammar/index.js","pages/UploadPart7/index.js","pages/Admin/index.js","context/platform.js","components/NavBar/LeftNav/index.js","components/NavBar/SearchInput/index.js","components/NavBar/index.js","components/Footer/index.js","components/Loading/index.js","components/App/index.js","reducers/auth.js","reducers/user.js","reducers/index.js","routes/private-route.js","routes/index.js","index.js","constants/ActionTypes.js","utils/config.js"],"names":["getCookie","cname","name","ca","document","cookie","split","i","length","c","charAt","substring","indexOf","authHeader","token","Authorization","Accept","services","login","email","password","axios","method","headers","url","data","JSON","stringify","then","res","catch","err","signUp","value","getUser","accessToken","updateUser","object","uploadAvatar","formData","Option","Select","AutoCompleteOption","AutoComplete","RegistrationForm","state","confirmDirty","autoCompleteResult","loading","handleSubmit","e","preventDefault","props","form","validateFieldsAndScroll","values","setState","dispatch","type","SIGN_IN","signup","message","error","handleConfirmBlur","target","compareToFirstPassword","rule","callback","getFieldValue","validateToNextPassword","validateFields","force","handleWebsiteChange","map","domain","getFieldDecorator","this","tailFormItemLayout","wrapperCol","xs","span","offset","sm","website","key","spinning","tip","labelCol","onSubmit","style","margin","Item","label","rules","required","md","lg","xl","hasFeedback","validator","Password","className","onBlur","title","whitespace","width","placeholder","valuePropName","href","htmlType","React","Component","connect","user","accessTokenStore","auth","Form","create","NormalLoginForm","console","log","prefix","color","initialValue","to","UpdateForm","objectQuery","oldPassword","newPassword","gender","avatar","success","onChange","FormData","append","files","results","loadAvatar","borderRight","paddingRight","paddingTop","borderRadius","position","src","top","left","bottom","right","height","marginTop","textAlign","marginLeft","disabled","withCookies","mode","useCookies","cookies","setCookie","removeCookie","useState","visibleRegForm","setVisibleRegForm","visibleLoginForm","setVisibleLoginForm","visibleUpdateForm","setVisibleUpdateForm","setLoading","showModalUpdate","logOut","DELETE_USER","onSignup","useEffect","Object","keys","size","selectedKeys","marginRight","overlay","onClick","Submenu","full_name","visible","footer","onCancel","Login","builtinPlugins","Font","Indent","IndentBlock","UnderlinePlugin","StrikethroughPlugin","CodePlugin","SubscriptPlugin","SuperscriptPlugin","TextTransformation","CKFinder","EssentialsPlugin","UploadAdapterPlugin","AutoformatPlugin","BoldPlugin","ItalicPlugin","BlockQuotePlugin","EasyImagePlugin","HeadingPlugin","ImagePlugin","ImageCaptionPlugin","ImageStylePlugin","ImageToolbarPlugin","ImageUploadPlugin","LinkPlugin","ListPlugin","ParagraphPlugin","ImageResize","Table","TableToolbar","Alignment","CKEditorCustom","ClassicEditorBase","defaultConfig","toolbar","items","cloudServices","tokenUrl","uploadUrl","image","styles","table","contentToolbar","language","UAParser","require","DEVICE_TYPES","undefined","module","exports","userAgent","parser","setUA","getResult","os","browser","device","platform","model","version","major","isDesktop","isMobile","isTablet","isSmarttv","isWearable","isIOS","getPlatformDetect","grammarTopics","setGrammarTopics","content","idGrammarTopic","grammar","setGrammar","config","API_URL","topics","index","_id","editor","event","getData","dangerouslySetInnerHTML","__html","columns","dataIndex","render","posts","setPosts","params","idTopic","page","records","grammars","dataSource","topic","setTopic","part","level","paragraph","part7","setPart7","subQuesPart7","setSubQuesPart7","subQuesPart7Child","setSubQuesPart7Child","handleChangeSubQues","set","entries","x","y","idQuestion","question","A","B","C","D","answer","tips","subQuestions","Header","Layout","Content","Footer","Sider","SubMenu","Menu","Admin","collapsed","setCollapsed","minHeight","collapsible","onCollapse","theme","defaultSelectedKeys","background","padding","float","RightNav","path","component","PostGrammar","exact","MyPostsGrammar","PostTopicGrammar","UploadPart7","Context","createContext","PlatformProvider","children","usePlatformDetect","Provider","LeftNav","Search","Input","SearchInput","onSearch","enterButton","onPressEnter","withPlatform","setVisible","zIndex","backgroundColor","placement","closable","onClose","useContext","Loading","setUser","role","id","NavBar","initialState","action","STORE_USER","rootReducer","combineReducers","rest","Home","Loadable","loader","Grammar","Exam","Intro","Topics","Flashcard","routes","store","createStore","applyMiddleware","thunk","navigator","app","isPrivate","ReactDOM","getElementById","IMG_URL"],"mappings":"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","file":"static/js/main.35de10b5.chunk.js","sourcesContent":["export function getCookie(cname) {\r\n  var name = cname + '=';\r\n  var ca = document.cookie.split(';');\r\n  for (var i = 0; i < ca.length; i++) {\r\n    var c = ca[i];\r\n    while (c.charAt(0) == ' ') {\r\n      c = c.substring(1);\r\n    }\r\n    if (c.indexOf(name) == 0) {\r\n      return c.substring(name.length, c.length);\r\n    }\r\n  }\r\n  return '';\r\n}\r\n\r\nexport function authHeader() {\r\n  // return authorization header with jwt token\r\n  let token = getCookie('accessToken');\r\n\r\n  if (token != '') {\r\n    return {\r\n      Authorization: 'Bearer ' + token,\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    };\r\n  } else {\r\n    return {};\r\n  }\r\n}\r\n","import axios from 'axios';\r\nimport { authHeader, getCookie } from '../utils/authHeader';\r\n\r\nexport const services = {\r\n  login,\r\n  signUp,\r\n  getUser,\r\n  updateUser,\r\n  uploadAvatar,\r\n};\r\n\r\nfunction login(email, password) {\r\n  return axios({\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    url: 'https://toeic-practice.herokuapp.com/api/users/login',\r\n    data: JSON.stringify({ email, password }),\r\n  })\r\n    .then(res => res)\r\n    .catch(err => {\r\n      throw err;\r\n    });\r\n}\r\n\r\nfunction signUp(value) {\r\n  return axios({\r\n    method: 'POST',\r\n    headers: { 'Content-Type': 'application/json' },\r\n    url: 'https://toeic-practice.herokuapp.com/api/users/signup',\r\n    data: value,\r\n  })\r\n    .then(res => res)\r\n    .catch(err => {\r\n      throw err;\r\n    });\r\n}\r\n\r\nfunction getUser(accessToken) {\r\n  return axios({\r\n    method: 'GET',\r\n    url: `https://toeic-practice.herokuapp.com/api/users/`,\r\n    headers: authHeader(),\r\n  })\r\n    .then(res => res)\r\n    .catch(err => {\r\n      throw err;\r\n    });\r\n}\r\n\r\nfunction updateUser(object) {\r\n  return axios({\r\n    method: 'PATCH',\r\n    headers: authHeader(),\r\n    url: 'https://toeic-practice.herokuapp.com/api/users',\r\n    data: object,\r\n  })\r\n    .then(res => res)\r\n    .catch(err => {\r\n      throw err;\r\n    });\r\n}\r\n\r\nfunction uploadAvatar(formData) {\r\n  return axios({\r\n    method: 'PATCH',\r\n    headers: {\r\n      Authorization: 'Bearer ' + getCookie('accessToken'),\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n    url: 'https://toeic-practice.herokuapp.com/api/users/upload-avatar',\r\n    data: formData,\r\n  })\r\n    .then(res => res)\r\n    .catch(err => {\r\n      throw err;\r\n    });\r\n}\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Tooltip,\r\n  Icon,\r\n  Cascader,\r\n  Select,\r\n  Row,\r\n  Col,\r\n  Checkbox,\r\n  Button,\r\n  AutoComplete,\r\n  Spin,\r\n  message\r\n} from 'antd';\r\nimport {services} from '../../services'\r\nimport {SIGN_IN} from '../../constants/ActionTypes'\r\nimport { connect } from 'react-redux';\r\nimport './index.scss'\r\n\r\nconst { Option } = Select;\r\nconst AutoCompleteOption = AutoComplete.Option;\r\n\r\nclass RegistrationForm extends React.Component {\r\n  state = {\r\n    confirmDirty: false,\r\n    autoCompleteResult: [],\r\n    loading : false\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.form.validateFieldsAndScroll((err, values) => {\r\n      if (!err) {\r\n        this.setState({loading : true})\r\n        services.signUp(values)\r\n          .then(\r\n            res => { \r\n              const {dispatch} = this.props;\r\n              dispatch({type : SIGN_IN, data : res})\r\n              this.props.signup(res)\r\n              this.setState({loading : false})\r\n              // toastr.success(\"Đăng nhập thành công\")\r\n            }\r\n          )\r\n          .catch(err => {\r\n            this.setState({loading : false})\r\n            // toastr.error(\"Đăng nhập thất bại\")\r\n            message.error(\"Đăng kí thất bại\")\r\n            throw err;\r\n          })\r\n      }\r\n    });\r\n  };\r\n\r\n  handleConfirmBlur = e => {\r\n    const { value } = e.target;\r\n    this.setState({ confirmDirty: this.state.confirmDirty || !!value });\r\n  };\r\n\r\n  compareToFirstPassword = (rule, value, callback) => {\r\n    const { form } = this.props;\r\n    if (value && value !== form.getFieldValue('password')) {\r\n      callback('Two passwords that you enter is inconsistent!');\r\n    } else {\r\n      callback();\r\n    }\r\n  };\r\n\r\n  validateToNextPassword = (rule, value, callback) => {\r\n    const { form } = this.props;\r\n    if (value && this.state.confirmDirty) {\r\n      form.validateFields(['confirm'], { force: true });\r\n    }\r\n    callback();\r\n  };\r\n\r\n  handleWebsiteChange = value => {\r\n    let autoCompleteResult;\r\n    if (!value) {\r\n      autoCompleteResult = [];\r\n    } else {\r\n      autoCompleteResult = ['.com', '.org', '.net'].map(\r\n        domain => `${value}${domain}`,\r\n      );\r\n    }\r\n    this.setState({ autoCompleteResult });\r\n  };\r\n\r\n  render() {\r\n    const { getFieldDecorator } = this.props.form;\r\n    const { autoCompleteResult } = this.state;\r\n\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 8 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    const tailFormItemLayout = {\r\n      wrapperCol: {\r\n        xs: {\r\n          span: 24,\r\n          offset: 0,\r\n        },\r\n        sm: {\r\n          span: 16,\r\n          offset: 8,\r\n        },\r\n      },\r\n    };\r\n\r\n    const websiteOptions = autoCompleteResult.map(website => (\r\n      <AutoCompleteOption key={website}>{website}</AutoCompleteOption>\r\n    ));\r\n\r\n    return (\r\n      <Spin spinning={this.state.loading} tip=\"Loading...\">\r\n      <Form\r\n        {...formItemLayout}\r\n        onSubmit={this.handleSubmit}\r\n        style={{ margin: '0 auto' }}\r\n      >\r\n        <Form.Item label=\"E-mail\">\r\n          {getFieldDecorator('email', {\r\n            rules: [\r\n              {\r\n                type: 'email',\r\n                message: 'The input is not valid E-mail!',\r\n              },\r\n              {\r\n                required: true,\r\n                message: 'Please input your E-mail!',\r\n              },\r\n            ],\r\n          })(\r\n            <Col xs={24} sm={24} md={24} lg={20} xl={20}>\r\n              <Input />\r\n            </Col>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"Password\" hasFeedback>\r\n          {getFieldDecorator('password', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please input your password!',\r\n              },\r\n              {\r\n                validator: this.validateToNextPassword,\r\n              },\r\n            ],\r\n          })(\r\n            <Col xs={24} sm={24} md={24} lg={20} xl={20}>\r\n              <Input.Password className=\"abcdef\" />\r\n            </Col>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"Confirm\" hasFeedback>\r\n          {getFieldDecorator('confirm', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please confirm your password!',\r\n              },\r\n              {\r\n                validator: this.compareToFirstPassword,\r\n              },\r\n            ],\r\n          })(\r\n            <Col xs={24} sm={24} md={24} xl={20} lg={20}>\r\n              <Input.Password onBlur={this.handleConfirmBlur} />\r\n            </Col>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item\r\n          label={\r\n            <span>\r\n              Name&nbsp;\r\n              <Tooltip title=\"What do you want others to call you?\">\r\n                <Icon type=\"question-circle-o\" />\r\n              </Tooltip>\r\n            </span>\r\n          }\r\n        >\r\n          {getFieldDecorator('name', {\r\n            rules: [\r\n              {\r\n                required: true,\r\n                message: 'Please input your name!',\r\n                whitespace: true,\r\n              },\r\n            ],\r\n          })(\r\n            <Col xs={24} sm={24} md={24} xl={20} lg={20}>\r\n              <Input />\r\n            </Col>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item label=\"Gender\" hasFeedback>\r\n          {getFieldDecorator('gender', {\r\n            rules: [{ required: true, message: 'Please select your country!' }],\r\n          })(\r\n            <Select className=\"ant-col\" style={{width : \"83.33%\"}} placeholder=\"Please select gender...\">\r\n              <Option value=\"male\">Nam</Option>\r\n              <Option value=\"female\">Nữ</Option>\r\n            </Select>\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item {...tailFormItemLayout}>\r\n          {getFieldDecorator('agreement', {\r\n            valuePropName: 'checked',\r\n          })(\r\n            <Checkbox>\r\n              Tôi đồng ý với <a href=\"\">chính sách</a> của MHHD\r\n            </Checkbox>,\r\n          )}\r\n        </Form.Item>\r\n        <Form.Item {...tailFormItemLayout}>\r\n          <Button type=\"primary\" htmlType=\"submit\">\r\n            Đăng ký\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n      </Spin>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user, auth }) => {\r\n  return {\r\n    user,\r\n    accessTokenStore: auth.accessToken,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Form.create({ name: 'register' })(RegistrationForm));\r\n","import React from 'react';\r\nimport { Form, Icon, Input, Button, Checkbox, Spin, message } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport './style.scss';\r\nimport { services } from '../../services';\r\nimport { SIGN_IN } from '../../constants/ActionTypes';\r\nimport { connect } from 'react-redux';\r\n// import toastr from '../../common/toastr'\r\n\r\nclass NormalLoginForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loading: false,\r\n    };\r\n  }\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields((err, values) => {\r\n      if (!err) {\r\n        this.setState({ loading: true });\r\n        services\r\n          .login(values.email, values.password)\r\n          .then(res => {\r\n            // console.log(res);\r\n            const { dispatch } = this.props;\r\n            dispatch({ type: SIGN_IN, data: res });\r\n            this.props.login(res);\r\n            this.setState({ loading: false });\r\n            // toastr.success(\"Đăng nhập thành công\")\r\n          })\r\n          .catch(err => {\r\n            console.log(1);\r\n            this.setState({ loading: false });\r\n            message.error('Đăng nhập thất bại');\r\n            // toastr.error(\"Đăng nhập thất bại\")\r\n            throw err;\r\n          });\r\n      }\r\n    });\r\n  };\r\n\r\n  render() {\r\n    console.log(this.props);\r\n    const { getFieldDecorator } = this.props.form;\r\n\r\n    return (\r\n      <Spin spinning={this.state.loading} tip=\"Loading...\">\r\n        <Form\r\n          onSubmit={this.handleSubmit}\r\n          className=\"login-form\"\r\n          style={{ margin: '0 auto auto auto' }}\r\n        >\r\n          <Form.Item>\r\n            {getFieldDecorator('email', {\r\n              rules: [{ required: true, message: 'Please input your email!' }],\r\n            })(\r\n              <Input\r\n                prefix={\r\n                  <Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />\r\n                }\r\n                placeholder=\"Email\"\r\n              />,\r\n            )}\r\n          </Form.Item>\r\n          <Form.Item>\r\n            {getFieldDecorator('password', {\r\n              rules: [\r\n                { required: true, message: 'Please input your Password!' },\r\n              ],\r\n            })(\r\n              <Input\r\n                prefix={\r\n                  <Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />\r\n                }\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n              />,\r\n            )}\r\n          </Form.Item>\r\n          <Form.Item>\r\n            {getFieldDecorator('remember', {\r\n              valuePropName: 'checked',\r\n              initialValue: true,\r\n            })(<Checkbox>Lưu mật khẩu</Checkbox>)}\r\n            <Link className=\"login-form-forgot\" to=\"\">\r\n              Quên mật khẩu\r\n            </Link>\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              className=\"login-form-button\"\r\n            >\r\n              Đăng nhập\r\n            </Button>\r\n            hoặc <Link to=\"/register\">Đăng ký!</Link>\r\n          </Form.Item>\r\n        </Form>\r\n      </Spin>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user, auth }) => {\r\n  return {\r\n    user,\r\n    accessTokenStore: auth.accessToken,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch,\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(Form.create({ name: 'normal_login' })(NormalLoginForm));\r\n","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Tooltip,\r\n  Icon,\r\n  Cascader,\r\n  Select,\r\n  Row,\r\n  Col,\r\n  Checkbox,\r\n  Button,\r\n  AutoComplete,\r\n  Spin,\r\n  message,\r\n  Avatar,\r\n  Upload,\r\n} from 'antd';\r\nimport { services } from '../../services';\r\nimport { SIGN_IN } from '../../constants/ActionTypes';\r\nimport { connect } from 'react-redux';\r\nimport './index.scss';\r\n\r\nconst { Option } = Select;\r\nconst AutoCompleteOption = AutoComplete.Option;\r\n\r\nclass UpdateForm extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      confirmDirty: false,\r\n      autoCompleteResult: [],\r\n      loading: false,\r\n      newPassword: null,\r\n      oldPassword: null,\r\n      avatar: this.props.user.data.results.user.avatar || null,\r\n      loadAvatar: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n    services\r\n      .getUser(this.props.accessToken)\r\n      .then(res => {\r\n        console.log(res);\r\n        var data = res.data.results.user;\r\n        this.setState({\r\n          email: data.email,\r\n          avatar: data.avatar,\r\n          name: data.name,\r\n          gender: data.gender,\r\n          loading: false,\r\n        });\r\n      })\r\n      .catch(err => {\r\n        this.setState({ loading: false });\r\n        throw err;\r\n      });\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    const objectQuery = {};\r\n    objectQuery.oldPassword = this.state.oldPassword;\r\n    objectQuery.newPassword = this.state.newPassword;\r\n    objectQuery.name = this.state.name;\r\n    objectQuery.gender = this.state.gender;\r\n    objectQuery.avatar = this.state.avatar;\r\n    this.setState({ loading: true });\r\n    services\r\n      .updateUser(objectQuery)\r\n      .then(res => {\r\n        const { dispatch } = this.props;\r\n        dispatch({ type: SIGN_IN, data: res });\r\n        this.setState({ loading: false });\r\n        message.success('Thay đổi thông tin thành công');\r\n      })\r\n      .catch(err => {\r\n        this.setState({ loading: false });\r\n        message.error('Thay đổi thất bại');\r\n        throw err;\r\n      });\r\n  };\r\n\r\n  handleConfirmBlur = e => {\r\n    const { value } = e.target;\r\n    this.setState({ confirmDirty: this.state.confirmDirty || !!value });\r\n  };\r\n\r\n  compareToFirstPassword = (rule, value, callback) => {\r\n    const { form } = this.props;\r\n    if (value && value !== form.getFieldValue('password')) {\r\n      callback('Hai mật khẩu không nhất quán!');\r\n    } else {\r\n      callback();\r\n    }\r\n  };\r\n\r\n  validateToNextPassword = (rule, value, callback) => {\r\n    const { form } = this.props;\r\n    if (value && this.state.confirmDirty) {\r\n      form.validateFields(['confirm'], { force: true });\r\n    }\r\n    callback();\r\n  };\r\n\r\n  handleWebsiteChange = value => {\r\n    let autoCompleteResult;\r\n    if (!value) {\r\n      autoCompleteResult = [];\r\n    } else {\r\n      autoCompleteResult = ['.com', '.org', '.net'].map(\r\n        domain => `${value}${domain}`,\r\n      );\r\n    }\r\n    this.setState({ autoCompleteResult });\r\n  };\r\n\r\n  onChange = e => {\r\n    this.setState({ loading: true });\r\n\r\n    e.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append('avatar', e.target.files[0]);\r\n\r\n    services\r\n      .uploadAvatar(formData)\r\n      .then(res => {\r\n        console.log(res);\r\n        const { dispatch } = this.props;\r\n\r\n        dispatch({ type: SIGN_IN, data: res });\r\n        this.setState({\r\n          loading: false,\r\n          avatar: res.data.results.user.avatar,\r\n        });\r\n        message.success('Cập nhật ảnh thành công');\r\n        // window.location.reload();\r\n      })\r\n      .catch(err => {\r\n        this.setState({ loading: false });\r\n        message.error('Cập nhật ảnh thất bại');\r\n        throw err;\r\n      });\r\n  };\r\n\r\n  render() {\r\n    console.log(this.state.loadAvatar);\r\n    const { getFieldDecorator } = this.props.form;\r\n    const { autoCompleteResult } = this.state;\r\n\r\n    const formItemLayout = {\r\n      labelCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 8 },\r\n      },\r\n      wrapperCol: {\r\n        xs: { span: 24 },\r\n        sm: { span: 16 },\r\n      },\r\n    };\r\n    const tailFormItemLayout = {\r\n      wrapperCol: {\r\n        xs: {\r\n          span: 24,\r\n          offset: 0,\r\n        },\r\n        sm: {\r\n          span: 16,\r\n          offset: 8,\r\n        },\r\n      },\r\n    };\r\n\r\n    const websiteOptions = autoCompleteResult.map(website => (\r\n      <AutoCompleteOption key={website}>{website}</AutoCompleteOption>\r\n    ));\r\n\r\n    return (\r\n      <Spin spinning={this.state.loading} tip=\"Loading...\">\r\n        <Row>\r\n          <Col\r\n            span={8}\r\n            style={{\r\n              borderRight: '1px solid rgb(238, 238, 238)',\r\n              paddingRight: '20px',\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                width: '100%',\r\n                paddingTop: '100%',\r\n                borderRadius: '50%',\r\n                position: 'relative',\r\n              }}\r\n            >\r\n              <Avatar\r\n                src={\r\n                  (this.state.avatar &&\r\n                    'http://123.30.235.196:5221/' + this.state.avatar) ||\r\n                  'https://cdn.eva.vn/upload/4-2019/images/2019-11-06/sinh-ra-trong-gia-dinh-viet-nhung-co-be-nay-lai-mang-ve-dep-tay-la-ky-untitled-19-1573053449-116-width600height750.jpg'\r\n                }\r\n                // width=\"100%\"\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: 0,\r\n                  left: 0,\r\n                  bottom: 0,\r\n                  right: 0,\r\n                  width: '100%',\r\n                  height: '100%',\r\n                }}\r\n              />\r\n            </div>\r\n            <div style={{ marginTop: '3em', textAlign: 'center' }}>\r\n              <label className=\"upload-btn-wrapper\">\r\n                <input\r\n                  type=\"file\"\r\n                  required\r\n                  onChange={this.onChange}\r\n                  name=\"productAttachImages\"\r\n                />\r\n                <span>Chọn ảnh</span>\r\n              </label>\r\n            </div>\r\n          </Col>\r\n          <Col span={16}>\r\n            <Form\r\n              {...formItemLayout}\r\n              onSubmit={this.handleSubmit}\r\n              style={{ margin: '0 auto', marginLeft: '-20px' }}\r\n            >\r\n              <Form.Item label=\"E-mail\">\r\n                <Col xs={24} sm={24} md={24} lg={20} xl={20}>\r\n                  <Input value={this.state.email} disabled />\r\n                </Col>\r\n              </Form.Item>\r\n              <Form.Item label=\"Mật khẩu cũ\">\r\n                <Col xs={24} sm={24} md={24} lg={20} xl={20}>\r\n                  <Input.Password\r\n                    value={this.state.oldPassword}\r\n                    onChange={e =>\r\n                      this.setState({ oldPassword: e.target.value })\r\n                    }\r\n                  />\r\n                </Col>\r\n              </Form.Item>\r\n              <Form.Item label=\"Mật khẩu mới\">\r\n                <Col xs={24} sm={24} md={24} xl={20} lg={20}>\r\n                  <Input.Password\r\n                    value={this.state.newPassword}\r\n                    onChange={e =>\r\n                      this.setState({ newPassword: e.target.value })\r\n                    }\r\n                  />\r\n                </Col>\r\n              </Form.Item>\r\n              <Form.Item label=\"Tên\">\r\n                <Col xs={24} sm={24} md={24} xl={20} lg={20}>\r\n                  <Input\r\n                    value={this.state.name}\r\n                    onChange={e => this.setState({ name: e.target.value })}\r\n                  />\r\n                </Col>\r\n              </Form.Item>\r\n              <Form.Item label=\"Giới tính\">\r\n                {getFieldDecorator('gender', {\r\n                  initialValue: this.state.gender,\r\n                  rules: [\r\n                    { required: true, message: 'Vui lòng chọn giới tính!' },\r\n                  ],\r\n                })(\r\n                  <Select\r\n                    className=\"ant-col\"\r\n                    style={{ width: '83.33%' }}\r\n                    placeholder=\"Please select gender...\"\r\n                    onChange={e => {\r\n                      console.log(e);\r\n                      this.setState({ gender: e });\r\n                    }}\r\n                  >\r\n                    <Option value=\"male\">Nam</Option>\r\n                    <Option value=\"female\">Nữ</Option>\r\n                  </Select>,\r\n                )}\r\n              </Form.Item>\r\n              <Form.Item {...tailFormItemLayout}>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                  Cập nhật\r\n                </Button>\r\n              </Form.Item>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Spin>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user, auth }) => {\r\n  return {\r\n    user,\r\n    accessTokenStore: auth.accessToken,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch,\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(Form.create({ name: 'update' })(UpdateForm));\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { withCookies, useCookies } from 'react-cookie';\r\nimport { Menu, Avatar, Icon, Dropdown, Modal, message, Spin } from 'antd';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport Register from '../../Register';\r\nimport Login from '../../Login';\r\nimport Update from '../../Update';\r\nimport { services } from '../../../services';\r\nimport { DELETE_USER, SIGN_IN } from '../../../constants/ActionTypes';\r\n// import toastr from '../../../common/toastr'\r\n\r\nimport './style.scss';\r\n\r\nimport config from '../../../utils/config';\r\nimport { storeUser, signIn, deleteUser, signOut } from '../../../actions';\r\n\r\nconst RightMenu = ({ mode, user, accessTokenStore, dispatch }) => {\r\n  // console.log(user)\r\n  // console.log('mode: ', mode);\r\n  // console.log(history)\r\n  const [cookies, setCookie, removeCookie] = useCookies('cookies');\r\n\r\n  const accessToken = accessTokenStore || cookies.accessToken;\r\n\r\n  const [visibleRegForm, setVisibleRegForm] = useState(false);\r\n  const [visibleLoginForm, setVisibleLoginForm] = useState(false);\r\n  const [visibleUpdateForm, setVisibleUpdateForm] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const Submenu = logOut => {\r\n    return (\r\n      <Menu>\r\n        <Menu.Item key=\"1\">\r\n          <div onClick={showModalUpdate}>Cập nhật thông tin</div>\r\n        </Menu.Item>\r\n        <Menu.Item key=\"4\">\r\n          <div onClick={logOut}>Đăng xuất</div>\r\n        </Menu.Item>\r\n      </Menu>\r\n    );\r\n  };\r\n\r\n  const showModalRegister = () => {\r\n    setVisibleRegForm(true);\r\n  };\r\n\r\n  const showModalLogin = () => {\r\n    setVisibleLoginForm(true);\r\n  };\r\n\r\n  const showModalUpdate = () => {\r\n    setVisibleUpdateForm(true);\r\n  };\r\n\r\n  const handleCancelRegForm = e => {\r\n    setVisibleRegForm(false);\r\n  };\r\n\r\n  const handleCancelLoginForm = e => {\r\n    setVisibleLoginForm(false);\r\n  };\r\n\r\n  const handleCancelUpdateForm = e => {\r\n    setVisibleUpdateForm(false);\r\n  };\r\n\r\n  const onLogin = res => {\r\n    // console.log(data)\r\n    setCookie('accessToken', res.data.results.token);\r\n    setCookie('isAuth', true);\r\n    message.success('Đăng nhập thành công !');\r\n  };\r\n\r\n  const logOut = () => {\r\n    removeCookie('accessToken');\r\n    removeCookie('isAuth');\r\n    dispatch({ type: DELETE_USER });\r\n    setVisibleLoginForm(false);\r\n    message.success('Đăng xuất thành công');\r\n    // toastr.success(\"Đăng xuất thành công\")\r\n    // dispatch(signOut());\r\n    // window.location.reload();\r\n  };\r\n\r\n  const onSignup = res => {\r\n    // console.log(data)\r\n    setCookie('accessToken', res.data.results.token);\r\n    setCookie('isAuth', true);\r\n    message.success('Đăng kí thành công !');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (accessToken && Object.keys(user).length === 0) {\r\n      setLoading(true);\r\n      services\r\n        .getUser(accessToken)\r\n        .then(res => {\r\n          if (res.data.results.user) {\r\n            // console.log('user info after call axios: ', res.data.results.user);\r\n            dispatch({ type: SIGN_IN, data: res });\r\n            setLoading(false);\r\n            // dispatch(signIn(accessToken));\r\n          }\r\n        })\r\n        .catch(() => {\r\n          setLoading(false);\r\n          // logOut();\r\n        });\r\n\r\n      // window.location.reload();\r\n    }\r\n  }, [accessToken]);\r\n  // console.log(user.data.results.user.avatar)\r\n  return (\r\n    <Spin spinning={loading} size=\"small\">\r\n      <Menu mode={mode} selectedKeys={[]}>\r\n        {Object.keys(user).length > 0 && (\r\n          <Menu.Item key=\"sign-out\" className=\"avatar\">\r\n            <Avatar\r\n              src={\r\n                (user.data.results.user.avatar &&\r\n                  'http://123.30.235.196:5221/' +\r\n                    user.data.results.user.avatar) ||\r\n                'https://cdn.eva.vn/upload/4-2019/images/2019-11-06/sinh-ra-trong-gia-dinh-viet-nhung-co-be-nay-lai-mang-ve-dep-tay-la-ky-untitled-19-1573053449-116-width600height750.jpg'\r\n              }\r\n              style={{ marginRight: '10px' }}\r\n            />\r\n            {user.data.results.user.name}\r\n            <Dropdown overlay={() => Submenu(logOut)}>\r\n              <Link className=\"ant-dropdown-link\" to=\"\">\r\n                {user.full_name} <Icon type=\"down\" />\r\n              </Link>\r\n            </Dropdown>\r\n          </Menu.Item>\r\n        )}\r\n        {!(Object.keys(user).length > 0) && (\r\n          <Menu.Item key=\"log-in\">\r\n            <Link to=\"\" className=\"auth-button\" onClick={showModalLogin}>\r\n              Đăng nhập\r\n            </Link>\r\n            <Modal\r\n              title=\"Đăng nhập\"\r\n              visible={visibleLoginForm}\r\n              footer={null}\r\n              onCancel={handleCancelLoginForm}\r\n            >\r\n              <Login login={onLogin} />\r\n            </Modal>\r\n          </Menu.Item>\r\n        )}\r\n        {!(Object.keys(user).length > 0) && (\r\n          <Menu.Item key=\"sign-up\">\r\n            <Link to=\"\" className=\"auth-button\" onClick={showModalRegister}>\r\n              Đăng ký\r\n            </Link>\r\n            <Modal\r\n              title=\"Đăng ký\"\r\n              visible={visibleRegForm}\r\n              footer={null}\r\n              onCancel={handleCancelRegForm}\r\n              width={'50vw'}\r\n            >\r\n              <Register signup={onSignup} />\r\n            </Modal>\r\n          </Menu.Item>\r\n        )}\r\n        <Modal\r\n          title=\"Cập nhật thông tin\"\r\n          visible={visibleUpdateForm}\r\n          footer={null}\r\n          onCancel={handleCancelUpdateForm}\r\n          width={'50vw'}\r\n        >\r\n          <Update accessToken={accessToken} signup={onSignup} />\r\n        </Modal>\r\n      </Menu>\r\n    </Spin>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ user, auth }) => {\r\n  return {\r\n    user,\r\n    accessTokenStore: auth.accessToken,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch,\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps,\r\n)(withCookies(RightMenu));\r\n","import EssentialsPlugin from '@ckeditor/ckeditor5-essentials/src/essentials';\r\nimport UploadAdapterPlugin from '@ckeditor/ckeditor5-adapter-ckfinder/src/uploadadapter';\r\nimport AutoformatPlugin from '@ckeditor/ckeditor5-autoformat/src/autoformat';\r\nimport BlockQuotePlugin from '@ckeditor/ckeditor5-block-quote/src/blockquote';\r\nimport EasyImagePlugin from '@ckeditor/ckeditor5-easy-image/src/easyimage';\r\nimport HeadingPlugin from '@ckeditor/ckeditor5-heading/src/heading';\r\nimport ImagePlugin from '@ckeditor/ckeditor5-image/src/image';\r\nimport ImageCaptionPlugin from '@ckeditor/ckeditor5-image/src/imagecaption';\r\nimport ImageStylePlugin from '@ckeditor/ckeditor5-image/src/imagestyle';\r\nimport ImageToolbarPlugin from '@ckeditor/ckeditor5-image/src/imagetoolbar';\r\nimport ImageUploadPlugin from '@ckeditor/ckeditor5-image/src/imageupload';\r\nimport LinkPlugin from '@ckeditor/ckeditor5-link/src/link';\r\nimport ListPlugin from '@ckeditor/ckeditor5-list/src/list';\r\nimport ParagraphPlugin from '@ckeditor/ckeditor5-paragraph/src/paragraph';\r\nimport CKFinder from '@ckeditor/ckeditor5-ckfinder/src/ckfinder';\r\nimport ImageResize from '@ckeditor/ckeditor5-image/src/imageresize';\r\nimport Table from '@ckeditor/ckeditor5-table/src/table';\r\nimport TableToolbar from '@ckeditor/ckeditor5-table/src/tabletoolbar';\r\nimport Alignment from '@ckeditor/ckeditor5-alignment/src/alignment';\r\nimport TextTransformation from '@ckeditor/ckeditor5-typing/src/texttransformation';\r\nimport BoldPlugin from '@ckeditor/ckeditor5-basic-styles/src/bold';\r\nimport ItalicPlugin from '@ckeditor/ckeditor5-basic-styles/src/italic';\r\nimport UnderlinePlugin from '@ckeditor/ckeditor5-basic-styles/src/underline';\r\nimport StrikethroughPlugin from '@ckeditor/ckeditor5-basic-styles/src/strikethrough';\r\nimport CodePlugin from '@ckeditor/ckeditor5-basic-styles/src/code';\r\nimport SubscriptPlugin from '@ckeditor/ckeditor5-basic-styles/src/subscript';\r\nimport SuperscriptPlugin from '@ckeditor/ckeditor5-basic-styles/src/superscript';\r\nimport Indent from '@ckeditor/ckeditor5-indent/src/indent';\r\nimport IndentBlock from '@ckeditor/ckeditor5-indent/src/indentblock';\r\nimport Font from '@ckeditor/ckeditor5-font/src/font';\r\n\r\nexport const builtinPlugins = [\r\n  Font,\r\n  Indent,\r\n  IndentBlock,\r\n  UnderlinePlugin,\r\n  StrikethroughPlugin,\r\n  CodePlugin,\r\n  SubscriptPlugin,\r\n  SuperscriptPlugin,\r\n  TextTransformation,\r\n  CKFinder,\r\n  EssentialsPlugin,\r\n  UploadAdapterPlugin,\r\n  AutoformatPlugin,\r\n  BoldPlugin,\r\n  ItalicPlugin,\r\n  BlockQuotePlugin,\r\n  EasyImagePlugin,\r\n  HeadingPlugin,\r\n  ImagePlugin,\r\n  ImageCaptionPlugin,\r\n  ImageStylePlugin,\r\n  ImageToolbarPlugin,\r\n  ImageUploadPlugin,\r\n  LinkPlugin,\r\n  ListPlugin,\r\n  ParagraphPlugin,\r\n  ImageResize,\r\n  Table,\r\n  TableToolbar,\r\n  Alignment,\r\n];\r\n\r\nexport const defaultConfig = {\r\n  toolbar: {\r\n    items: [\r\n      'heading',\r\n      '|',\r\n      'fontSize',\r\n      'fontFamily',\r\n      'fontColor',\r\n      'fontBackgroundColor',\r\n      '|',\r\n      'bold',\r\n      'italic',\r\n      'underline',\r\n      'strikethrough',\r\n      'code',\r\n      'subscript',\r\n      'superscript',\r\n      '|',\r\n      'bulletedList',\r\n      'numberedList',\r\n      '|',\r\n      'outdent',\r\n      'indent',\r\n      'alignment',\r\n      '|',\r\n      'link',\r\n      'imageUpload',\r\n      '|',\r\n      'blockQuote',\r\n      'insertTable',\r\n      '|',\r\n      'undo',\r\n      'redo',\r\n    ],\r\n  },\r\n  cloudServices: {\r\n    tokenUrl:\r\n      'https://43964.cke-cs.com/token/dev/3rhf4ArSrYOZISUcFtpdFZ7n6Yq1eZdSakoZH0Wjd98I70kS78p82KoLfNjv',\r\n    uploadUrl: 'https://43964.cke-cs.com/easyimage/upload/',\r\n  },\r\n  image: {\r\n    toolbar: [\r\n      'imageTextAlternative',\r\n      '|',\r\n      'imageStyle:alignLeft',\r\n      'imageStyle:full',\r\n      'imageStyle:alignRight',\r\n    ],\r\n    styles: ['full', 'alignLeft', 'alignRight'],\r\n  },\r\n  table: {\r\n    contentToolbar: ['tableColumn', 'tableRow', 'mergeTableCells'],\r\n  },\r\n  language: 'en',\r\n};\r\n","import ClassicEditorBase from '@ckeditor/ckeditor5-editor-classic/src/classiceditor';\r\n\r\nimport { defaultConfig, builtinPlugins } from '../../utils/CKEditor.config';\r\n\r\nimport './style.scss';\r\n\r\nclass CKEditorCustom extends ClassicEditorBase {}\r\n\r\nCKEditorCustom.defaultConfig = defaultConfig;\r\nCKEditorCustom.builtinPlugins = builtinPlugins;\r\n\r\nexport default CKEditorCustom;\r\n","const UAParser = require(\"ua-parser-js\");\r\n\r\nconst DEVICE_TYPES = {\r\n  MOBILE: \"mobile\",\r\n  TABLET: \"tablet\",\r\n  SMART_TV: \"smarttv\",\r\n  CONSOLE: \"console\",\r\n  WEARABLE: \"wearable\",\r\n  DESKTOP: undefined\r\n};\r\n\r\nconst getPlatformDetect = userAgent => {\r\n  const parser = new UAParser();\r\n\r\n  parser.setUA(userAgent);\r\n\r\n  const { os, browser, device } = parser.getResult();\r\n\r\n  return {\r\n    platform: {\r\n      device: device.type || \"desktop\",\r\n      os: os.name,\r\n      model: device.model,\r\n      browser: browser.name,\r\n      version: {\r\n        os: os.version,\r\n        browser: browser.major\r\n      },\r\n      isDesktop: device.type === DEVICE_TYPES.DESKTOP,\r\n      isMobile: device.type === DEVICE_TYPES.MOBILE,\r\n      isTablet: device.type === DEVICE_TYPES.TABLET,\r\n      isSmarttv: device.type === DEVICE_TYPES.SMART_TV,\r\n      isWearable: device.type === DEVICE_TYPES.WEARABLE,\r\n      isIOS: os.name === \"iOS\"\r\n    }\r\n  };\r\n};\r\n\r\nconst usePlatformDetect = userAgent => getPlatformDetect(userAgent);\r\n\r\nmodule.exports = usePlatformDetect;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { withCookies } from 'react-cookie';\r\nimport { Select, Button, Input, message } from 'antd';\r\nimport './style.scss';\r\n\r\nimport config from '../../utils/config';\r\nimport CKEditor from '@ckeditor/ckeditor5-react';\r\nimport CKEditorCustom from '../../components/CKEditorCustom';\r\n\r\nconst { Option } = Select;\r\n\r\nconst PostGrammar = ({\r\n  cookies: {\r\n    cookies: { accessToken },\r\n  },\r\n}) => {\r\n  const [grammarTopics, setGrammarTopics] = useState([]);\r\n  const [grammar, setGrammar] = useState({\r\n    title: '',\r\n    content: '',\r\n    idGrammarTopic: '',\r\n  });\r\n\r\n  const handleChangeIdTopic = value => {\r\n    setGrammar({ ...grammar, idGrammarTopic: value });\r\n  };\r\n\r\n  const handleChangeTitleGrammar = e => {\r\n    const { name, value } = e.target;\r\n    setGrammar({ ...grammar, [name]: value });\r\n  };\r\n\r\n  const handlePostGrammar = () => {\r\n    axios({\r\n      method: 'POST',\r\n      url: `${config.API_URL}/api/grammar`,\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n      data: grammar,\r\n    })\r\n      .then(res => {\r\n        message.success('Đăng bài thành công.');\r\n        setGrammarTopics({ title: '', content: '', idGrammarTopic: '' });\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios({\r\n      method: 'GET',\r\n      url: `${config.API_URL}/api/grammar-topics`,\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n    })\r\n      .then(res => {\r\n        // console.log(res.data.results.topics);\r\n        setGrammarTopics(res.data.results.topics);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"post-grammar\">\r\n      <div className=\"post-grammar-title\">\r\n        <div className=\"post-grammar-row\">\r\n          <div>Nhập tiêu đề ngữ pháp:</div>\r\n          <Input\r\n            className=\"post-grammar-input\"\r\n            placeholder=\"Nhập tiêu đề ngữ pháp\"\r\n            name=\"title\"\r\n            onChange={handleChangeTitleGrammar}\r\n          />\r\n        </div>\r\n        <div className=\"post-grammar-row\">\r\n          <div>Chọn topic: </div>\r\n          <Select\r\n            className=\"post-grammar-input\"\r\n            onChange={handleChangeIdTopic}\r\n            placeholder=\"Chọn topic cho ngữ pháp bạn muốn đăng\"\r\n          >\r\n            {grammarTopics.map(({ _id, title }, index) => (\r\n              <Option key={index} value={_id}>\r\n                {title}\r\n              </Option>\r\n            ))}\r\n          </Select>\r\n        </div>\r\n      </div>\r\n      <CKEditor\r\n        editor={CKEditorCustom}\r\n        data={grammar.content}\r\n        onChange={(event, editor) => {\r\n          const data = editor.getData();\r\n          setGrammar({ ...grammar, content: data });\r\n        }}\r\n      />\r\n      <div className=\"post-grammar-btn\">\r\n        <Button type=\"primary\" onClick={handlePostGrammar}>\r\n          Đăng\r\n        </Button>\r\n      </div>\r\n      <hr />\r\n      <h1>Xem nội dung bài đăng trước khi đăng bài:</h1>\r\n      <hr />\r\n      <div\r\n        style={{ marginTop: '2rem' }}\r\n        className=\"ck-post-display\"\r\n        dangerouslySetInnerHTML={{ __html: grammar.content }}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withCookies(PostGrammar);\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { withCookies } from 'react-cookie';\r\nimport { Table, Button } from 'antd';\r\n\r\nimport config from '../../utils/config';\r\n\r\nconst columns = [\r\n  {\r\n    title: 'Tiêu đề bài đăng ngữ pháp',\r\n    dataIndex: 'title',\r\n    key: 'title',\r\n  },\r\n  {\r\n    title: 'Topic của bài đăng ngữ pháp',\r\n    dataIndex: 'idGrammarTopic',\r\n    key: 'idGrammarTopic',\r\n  },\r\n  {\r\n    title: 'Thao tác',\r\n    key: 'action',\r\n    render: () => <Button type=\"danger\">Xóa</Button>,\r\n  },\r\n];\r\n\r\nconst MyPostsGrammar = ({\r\n  cookies: {\r\n    cookies: { accessToken },\r\n  },\r\n}) => {\r\n  const [posts, setPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios({\r\n      method: 'GET',\r\n      url: `${config.API_URL}/api/grammar`,\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n      params: {\r\n        idTopic: '5de0c6ef7f6d4b002423cef2',\r\n        page: 1,\r\n        records: 2,\r\n      },\r\n    })\r\n      .then(res => {\r\n        console.log(res.data.results.grammars.grammars);\r\n\r\n        setPosts(res.data.results.grammars.grammars);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <Table dataSource={posts} columns={columns} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withCookies(MyPostsGrammar);\r\n","import React, { useState } from 'react';\r\nimport { Input, Button } from 'antd';\r\nimport axios from 'axios';\r\nimport config from '../../utils/config';\r\nimport { withCookies } from 'react-cookie';\r\nimport './style.scss';\r\n\r\nconst PostTopicGrammar = ({\r\n  cookies: {\r\n    cookies: { accessToken },\r\n  },\r\n}) => {\r\n  const [topic, setTopic] = useState({});\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setTopic({ ...topic, [name]: value });\r\n  };\r\n\r\n  const handleUpload = () => {\r\n    axios({\r\n      method: 'POST',\r\n      url: `${config.API_URL}/api/grammar-topics`,\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n      data: topic,\r\n    })\r\n      .then(res => {\r\n        console.log(res.data);\r\n        setTopic('');\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"post-topic-grammar\">\r\n      <div className=\"post-topic-grammar-row\">\r\n        <div>Tiêu đề topic:</div>\r\n        <Input name=\"title\" value={topic.title} onChange={handleChange} />\r\n      </div>\r\n      <div className=\"post-topic-grammar-btn\">\r\n        <Button type=\"primary\" onClick={handleUpload}>\r\n          Đăng\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withCookies(PostTopicGrammar);\r\n","import React, { useState } from 'react';\r\nimport './style.scss';\r\nimport { Button, Select, message, Input } from 'antd';\r\nimport CKEditor from '@ckeditor/ckeditor5-react';\r\nimport CKEditorCustom from '../../components/CKEditorCustom';\r\nimport axios from 'axios';\r\nimport config from '../../utils/config';\r\nimport { withCookies } from 'react-cookie';\r\n\r\nconst { Option } = Select;\r\n\r\nconst UploadPart7 = ({\r\n  cookies: {\r\n    cookies: { accessToken },\r\n  },\r\n}) => {\r\n  const [part7, setPart7] = useState({\r\n    part: 7,\r\n    level: 0,\r\n    paragraph: '',\r\n  });\r\n  const [subQuesPart7, setSubQuesPart7] = useState({});\r\n  const [subQuesPart7Child, setSubQuesPart7Child] = useState({});\r\n\r\n  const handleUploadPart7Des = () => {\r\n    const formData = new FormData();\r\n    formData.set('part', part7.part);\r\n    formData.set('level', part7.level);\r\n    formData.set('paragraph', part7.paragraph);\r\n\r\n    console.log('form data before upload des:', accessToken);\r\n    for (const [x, y] of formData.entries()) {\r\n      console.log(x, y);\r\n    }\r\n\r\n    axios({\r\n      method: 'POST',\r\n      url: `${config.API_URL}/api/questions/basic-info`,\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n      data: formData,\r\n    })\r\n      .then(res => {\r\n        message.success('Đăng bài thành công.');\r\n        console.log('question after uploaded: ', res.data);\r\n        setSubQuesPart7({ ...subQuesPart7, idQuestion: res.data.results._id });\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  const handleUploadPart7Content = () => {\r\n    console.log('Data before upload content:', subQuesPart7);\r\n\r\n    axios({\r\n      method: 'POST',\r\n      url: `${config.API_URL}/api/questions/sub-questions`,\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n      data: subQuesPart7,\r\n    })\r\n      .then(res => {\r\n        message.success('Đăng bài thành công.');\r\n        console.log('Subquestion after uploaded: ', res);\r\n        setPart7({ part: 7, level: 0, paragraph: '' });\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  const handleChange = value => setPart7({ ...part7, level: value });\r\n\r\n  const handleChangeSubQues = e => {\r\n    const { name, value } = e.target;\r\n    setSubQuesPart7Child({ ...subQuesPart7Child, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <div className=\"upload-part7\">\r\n      <div className=\"upload-part7-content\">\r\n        <div className=\"upload-part7-raw\">\r\n          <div>Chọn độ khó của câu hỏi:</div>\r\n          <Select\r\n            className=\"upload-part7-level\"\r\n            placeholder=\"Chọn độ khó của câu hỏi\"\r\n            onChange={handleChange}\r\n          >\r\n            <Option value={0}>0</Option>\r\n            <Option value={1}>1</Option>\r\n            <Option value={2}>2</Option>\r\n            <Option value={3}>3</Option>\r\n            <Option value={4}>4</Option>\r\n            <Option value={5}>5</Option>\r\n            <Option value={6}>6</Option>\r\n            <Option value={7}>7</Option>\r\n          </Select>\r\n        </div>\r\n        <CKEditor\r\n          editor={CKEditorCustom}\r\n          data={part7.paragraph}\r\n          onChange={(event, editor) => {\r\n            const data = editor.getData();\r\n            setPart7({ ...part7, paragraph: data });\r\n          }}\r\n        />\r\n        <div className=\"upload-part7-btn\">\r\n          <Button type=\"primary\" onClick={handleUploadPart7Des}>\r\n            Đăng mô tả câu hỏi\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <br /> <hr /> <br />\r\n      <div className=\"upload-part7-question\">\r\n        <div className=\"upload-part7-raw\">\r\n          <div className=\"question-title\">Câu hỏi:</div>\r\n          <Input\r\n            name=\"question\"\r\n            onChange={handleChangeSubQues}\r\n            value={subQuesPart7Child.question}\r\n          />\r\n        </div>\r\n        <div className=\"upload-part7-raw\">\r\n          <div className=\"question-title\">A:</div>\r\n          <Input\r\n            name=\"A\"\r\n            onChange={handleChangeSubQues}\r\n            value={subQuesPart7Child.A}\r\n          />\r\n        </div>\r\n        <div className=\"upload-part7-raw\">\r\n          <div className=\"question-title\">B:</div>\r\n          <Input\r\n            name=\"B\"\r\n            onChange={handleChangeSubQues}\r\n            value={subQuesPart7Child.B}\r\n          />\r\n        </div>\r\n        <div className=\"upload-part7-raw\">\r\n          <div className=\"question-title\">C:</div>\r\n          <Input\r\n            name=\"C\"\r\n            onChange={handleChangeSubQues}\r\n            value={subQuesPart7Child.C}\r\n          />\r\n        </div>\r\n        <div className=\"upload-part7-raw\">\r\n          <div className=\"question-title\">D:</div>\r\n          <Input\r\n            name=\"D\"\r\n            onChange={handleChangeSubQues}\r\n            value={subQuesPart7Child.D}\r\n          />\r\n        </div>\r\n        <div className=\"upload-part7-raw\">\r\n          <div className=\"question-title\">Answer:</div>\r\n          <Input\r\n            name=\"answer\"\r\n            onChange={handleChangeSubQues}\r\n            value={subQuesPart7Child.answer}\r\n          />\r\n        </div>\r\n        <div className=\"upload-part7-raw\">\r\n          <div className=\"question-title\">Tips:</div>\r\n          <Input\r\n            name=\"tips\"\r\n            onChange={handleChangeSubQues}\r\n            value={subQuesPart7Child.tips}\r\n          />\r\n        </div>\r\n        <div className=\"upload-part7-btn\">\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => {\r\n              setSubQuesPart7({\r\n                ...subQuesPart7,\r\n                subQuestions: [\r\n                  ...(subQuesPart7.subQuestions\r\n                    ? subQuesPart7.subQuestions\r\n                    : []),\r\n                  subQuesPart7Child,\r\n                ],\r\n              });\r\n              setSubQuesPart7Child({});\r\n              message.success('Thêm câu hỏi nhỏ thành công.');\r\n            }}\r\n            disabled={!subQuesPart7.idQuestion ? true : false}\r\n          >\r\n            Thêm câu hỏi nhỏ\r\n          </Button>\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={handleUploadPart7Content}\r\n            disabled={!subQuesPart7.idQuestion ? true : false}\r\n          >\r\n            Đăng phần nội dung câu hỏi\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withCookies(UploadPart7);\r\n","import React, { useState } from 'react';\r\nimport { Layout, Menu, Breadcrumb, Icon } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\nimport RightNav from '../../components/NavBar/RightNav';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport './style.scss';\r\n\r\nimport PostGrammar from '../PostGrammar';\r\nimport MyPostsGrammar from '../MyPostsGrammar';\r\nimport PostTopicGrammar from '../PostTopicGrammar';\r\nimport UploadPart7 from '../UploadPart7';\r\nimport UploadPart1 from '../UploadPart1';\r\n\r\nconst { Header, Content, Footer, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst prefixCls = 'admin';\r\n\r\nconst Admin = ({}) => {\r\n  const mode = 'horizontal';\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const onCollapse = collapsed => setCollapsed(collapsed);\r\n  return (\r\n    <div className={`${prefixCls}`}>\r\n      <Layout style={{ minHeight: '100vh' }}>\r\n        <Sider collapsible collapsed={collapsed} onCollapse={onCollapse}>\r\n          <div className=\"logoAdmin\" />\r\n          <Menu theme=\"dark\" defaultSelectedKeys={['1']} mode=\"inline\">\r\n            <Menu.Item key=\"0\">\r\n              <Icon type=\"user\" />\r\n              <span>\r\n                <Link to=\"/\" style={{ color: '#fff' }}>\r\n                  User\r\n                </Link>\r\n              </span>\r\n            </Menu.Item>\r\n            <SubMenu\r\n              key=\"sub1\"\r\n              title={\r\n                <span>\r\n                  <Icon type=\"question\" />\r\n                  <span>\r\n                    <Link to=\"/part/1\" style={{ color: '#fff' }}>\r\n                      Question\r\n                    </Link>\r\n                  </span>\r\n                </span>\r\n              }\r\n            >\r\n              <Menu.Item key=\"1\">\r\n                <Link to=\"/part/1\">Part 1</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"2\">\r\n                <Link to=\"/part/2\">Part 2</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"3\">\r\n                <Link to=\"/part/3\">Part 3</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"4\">\r\n                <Link to=\"/part/4\">Part 4</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"5\">\r\n                <Link to=\"/part/5\">Part 5</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"6\">\r\n                <Link to=\"/part/6\">Part 6</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"7\">\r\n                <Link to=\"/part/7\">Part 7</Link>\r\n              </Menu.Item>\r\n            </SubMenu>\r\n            <SubMenu\r\n              key=\"sub2\"\r\n              title={\r\n                <span>\r\n                  <Icon type=\"grammar\" />\r\n                  <span>\r\n                    <Link to=\"/topic\" style={{ color: '#fff' }}>\r\n                      Grammar\r\n                    </Link>\r\n                  </span>\r\n                </span>\r\n              }\r\n            >\r\n              <Menu.Item key=\"topic\">\r\n                <Link to=\"/upload-topic-grammar\">Topic</Link>\r\n              </Menu.Item>\r\n              <Menu.Item key=\"post-grammar\">\r\n                <Link to=\"/post-grammar\">Grammar</Link>\r\n              </Menu.Item>\r\n            </SubMenu>\r\n            <Menu.Item key=\"my-posts-grammar\">\r\n              <Icon type=\"table\" />\r\n              <span>\r\n                <Link to=\"/my-posts-grammar\" style={{ color: '#fff' }}>\r\n                  My grammar post\r\n                </Link>\r\n              </span>\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Sider>\r\n        <Layout>\r\n          <Header\r\n            className=\"menucon\"\r\n            style={{ background: '#fff', padding: 0 }}\r\n          >\r\n            <div className=\"rightMenu\" style={{ float: 'right' }}>\r\n              <RightNav mode={mode} />\r\n            </div>\r\n          </Header>\r\n          <Content style={{ margin: '0 16px' }}>\r\n            <Breadcrumb style={{ margin: '16px 0' }}></Breadcrumb>\r\n            <div style={{ padding: 24, background: '#fff', minHeight: '100%' }}>\r\n              <Switch>\r\n                <Route\r\n                  path=\"/post-grammar\"\r\n                  component={PostGrammar}\r\n                  exact={true}\r\n                />\r\n                <Route\r\n                  path=\"/my-posts-grammar\"\r\n                  component={MyPostsGrammar}\r\n                  exact={true}\r\n                />\r\n                <Route\r\n                  path=\"/upload-topic-grammar\"\r\n                  component={PostTopicGrammar}\r\n                  exact={true}\r\n                />\r\n                <Route path=\"/part/7\" component={UploadPart7} exact={true} />\r\n              </Switch>\r\n            </div>\r\n          </Content>\r\n          <Footer style={{ textAlign: 'center' }}>\r\n            NW ©2018 Created by Ant UED\r\n          </Footer>\r\n        </Layout>\r\n      </Layout>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Admin;\r\n","import React, { createContext, useContext } from \"react\";\r\nimport usePlatformDetect from \"../utils/usePlatformDetect\";\r\n\r\nconst Context = createContext();\r\n\r\nconst PlatformProvider = ({ userAgent, children }) => {\r\n  let { platform } = usePlatformDetect(userAgent);\r\n\r\n  return <Context.Provider value={{ platform }}>{children}</Context.Provider>;\r\n};\r\n\r\nconst withPlatform = Component => {\r\n  return props => {\r\n    const state = useContext(Context);\r\n\r\n    return <Component {...props} {...state} />;\r\n  };\r\n};\r\n\r\nexport { PlatformProvider, withPlatform };\r\n","import React from 'react';\r\nimport { Menu } from 'antd';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './styles.scss';\r\n\r\nconst LeftNav = ({ mode = 'horizontal' }) => {\r\n  return (\r\n    <Menu mode={mode} defaultSelectedKeys={['trang-chu']}>\r\n      <Menu.Item key={'1'}>\r\n        <Link to=\"/\">Trang chủ</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key={'2'}>\r\n        <Link to=\"/new-word\">Học từ mới</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key={'3'}>\r\n        <Link to=\"/grammar\">Học ngữ pháp</Link>\r\n      </Menu.Item>\r\n      <Menu.Item key={'4'}>\r\n        <Link to=\"/exam\">Thi thử</Link>\r\n      </Menu.Item>\r\n    </Menu>\r\n  );\r\n};\r\nexport default LeftNav;\r\n","import React from 'react';\r\nimport { Input } from 'antd';\r\n\r\nimport './styles.scss';\r\n\r\nconst { Search } = Input;\r\n\r\nconst SearchInput = () => {\r\n  const onSearch = value => {\r\n    console.log(value);\r\n  };\r\n\r\n  return (\r\n    <Search\r\n      placeholder=\"Nhập tên từ mới\"\r\n      onSearch={onSearch}\r\n      enterButton\r\n      onPressEnter={onSearch}\r\n    />\r\n  );\r\n};\r\nexport default SearchInput;\r\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Drawer, Button } from 'antd';\r\nimport { withPlatform } from '../../context/platform';\r\n\r\nimport LeftNav from './LeftNav';\r\nimport RightNav from './RightNav';\r\nimport SearchInput from './SearchInput';\r\n\r\nimport './style.scss';\r\n\r\nconst Navbar = ({ platform }) => {\r\n  const [visible, setVisible] = useState(false);\r\n\r\n  const mode = platform.isMobile ? 'vertical' : 'horizontal';\r\n\r\n  const showDrawer = () => setVisible(true);\r\n  const onClose = () => setVisible(false);\r\n\r\n  return (\r\n    <nav\r\n      className=\"menuBar\"\r\n      style={{\r\n        position: 'sticky',\r\n        top: '0',\r\n        zIndex: '10',\r\n        backgroundColor: '#fff',\r\n      }}\r\n    >\r\n      <div className=\"logo\">\r\n        <Link to=\"/\">Logo</Link>\r\n      </div>\r\n      <div className=\"menuCon\">\r\n        <div className=\"leftMenu\">\r\n          <LeftNav />\r\n        </div>\r\n        <div className=\"search-input\">\r\n          <SearchInput />\r\n        </div>\r\n        <div className=\"rightMenu\">\r\n          <RightNav mode={mode} />\r\n        </div>\r\n        <Button className=\"barsMenu\" type=\"primary\" onClick={showDrawer}>\r\n          <span className=\"barsBtn\"></span>\r\n        </Button>\r\n        <Drawer\r\n          title=\"Menu\"\r\n          placement=\"right\"\r\n          closable={false}\r\n          onClose={onClose}\r\n          visible={visible}\r\n        >\r\n          <LeftNav />\r\n          <RightNav mode={mode} />\r\n        </Drawer>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\nexport default withPlatform(Navbar);\r\n","import React from 'react';\r\n\r\nimport './style.scss';\r\n\r\nconst prefixCls = 'footer';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <div className={`${prefixCls}`}>\r\n      © Bản quyền website thuộc về nhóm 7 - PTPMCN - 20191. Bảo lưu mọi quyền.{' '}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React, { useState } from 'react';\r\nimport { AtomSpinner } from 'react-epic-spinners';\r\n\r\nimport './style.scss';\r\n\r\nconst prefixCls = 'loading';\r\n\r\nconst Loading = ({}) => {\r\n  return (\r\n    <div className={`${prefixCls}`}>\r\n      <AtomSpinner color=\"#1890FF\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loading;\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withCookies } from 'react-cookie';\r\nimport axios from 'axios';\r\n\r\nimport './style.scss';\r\n\r\nimport NavBar from '../NavBar';\r\nimport Footer from '../Footer';\r\nimport Admin from '../../pages/Admin';\r\nimport Loading from '../Loading';\r\nimport config from '../../utils/config';\r\n\r\nfunction App({\r\n  children,\r\n  cookies: {\r\n    cookies: { accessToken },\r\n  },\r\n}) {\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    axios({\r\n      method: 'GET',\r\n      url: `${config.API_URL}/api/users/`,\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n    })\r\n      .then(res => {\r\n        console.log(res.data);\r\n        setUser(res.data.results.user);\r\n      })\r\n      .catch(err => console.log(err));\r\n  }, []);\r\n\r\n  if (accessToken !== '') {\r\n    if (Object.keys(user).length > 0) {\r\n      if (user.role.id === 0) {\r\n        return (\r\n          <Fragment>\r\n            <NavBar />\r\n            {children}\r\n            <Footer />\r\n          </Fragment>\r\n        );\r\n      } else {\r\n        return <Admin>{children}</Admin>;\r\n      }\r\n    } else {\r\n      return <Loading />;\r\n    }\r\n  } else {\r\n    return (\r\n      <Fragment>\r\n        <NavBar />\r\n        {children}\r\n        <Footer />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ user }) => {\r\n  console.log('id from connect: ');\r\n\r\n  return { user };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withCookies(App));\r\n","import { SIGN_IN, SIGN_OUT } from '../constants/ActionTypes';\r\n\r\nconst initialState = {\r\n  accessToken: '',\r\n};\r\n\r\nconst auth = (state = initialState, action) => {\r\n  const { type, accessToken } = action;\r\n\r\n  // console.log('authenticated: ', accessToken);\r\n\r\n  switch (type) {\r\n    case SIGN_IN:\r\n      return { ...state, accessToken };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default auth;\r\n","import { STORE_USER, DELETE_USER, SIGN_IN } from '../constants/ActionTypes';\r\n\r\nconst initialState = {};\r\n\r\nconst user = (state = initialState, action) => {\r\n  const { type, user } = action;\r\n\r\n  switch (type) {\r\n    case SIGN_IN:\r\n      return action.data;\r\n    case STORE_USER:\r\n      state = { ...state, ...user };\r\n      return state;\r\n    case DELETE_USER:\r\n      state = {};\r\n      return state;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default user;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport auth from './auth';\r\nimport user from './user';\r\n\r\nconst rootReducer = combineReducers({ auth, user });\r\n\r\nexport default rootReducer;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { withCookies } from 'react-cookie';\r\n\r\nconst PrivateRoute = ({ cookies, component: Component, ...rest }) => {\r\n  const { accessToken } = cookies.cookies;\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props => {\r\n        if (accessToken && accessToken !== '') {\r\n          return <Component {...props} />;\r\n        } else {\r\n          return <Redirect to=\"/login\" />;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default withCookies(PrivateRoute);\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport PrivateRoute from './private-route';\r\nimport Loadable from 'react-loadable';\r\n\r\nimport Loading from '../components/Loading';\r\n\r\nconst Home = Loadable({\r\n  loader: () => import('../pages/Home'),\r\n  loading: Loading,\r\n});\r\nconst Admin = Loadable({\r\n  loader: () => import('../pages/Admin'),\r\n  loading: Loading,\r\n});\r\nconst Grammar = Loadable({\r\n  loader: () => import('../pages/Grammar'),\r\n  loading: Loading,\r\n});\r\nconst Exam = Loadable({\r\n  loader: () => import('../pages/Exam'),\r\n  loading: Loading,\r\n});\r\nconst Intro = Loadable({\r\n  loader: () => import('../pages/Exam/Intro'),\r\n  loading: Loading,\r\n});\r\nconst Topics = Loadable({\r\n  loader: () => import('../pages/Topics'),\r\n  loading: Loading,\r\n});\r\nconst Flashcard = Loadable({\r\n  loader: () => import('../pages/Flashcard'),\r\n  loading: Loading,\r\n});\r\nconst PostGrammar = Loadable({\r\n  loader: () => import('../pages/PostGrammar'),\r\n  loading: Loading,\r\n});\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    component: Home,\r\n  },\r\n  {\r\n    path: '/part/:idPart',\r\n    component: PostGrammar,\r\n  },\r\n  {\r\n    path: '/grammar',\r\n    component: Grammar,\r\n  },\r\n  {\r\n    path: '/exam',\r\n    component: Exam,\r\n  },\r\n  {\r\n    path: '/exam/intro',\r\n    component: Intro,\r\n  },\r\n  {\r\n    path: '/new-word',\r\n    component: Topics,\r\n  },\r\n  {\r\n    path: '/new-word/:topic',\r\n    component: Flashcard,\r\n  },\r\n  {\r\n    path: '*',\r\n    component: () => <div>404!</div>,\r\n  },\r\n];\r\n\r\nexport default () => (\r\n  <Switch>\r\n    {routes.map(({ path, component, exact = true, isPrivate }, index) => {\r\n      if (!isPrivate) {\r\n        return (\r\n          <Route key={index} path={path} component={component} exact={exact} />\r\n        );\r\n      } else {\r\n        return (\r\n          <PrivateRoute\r\n            key={index}\r\n            path={path}\r\n            component={component}\r\n            exact={exact}\r\n          />\r\n        );\r\n      }\r\n    })}\r\n  </Switch>\r\n);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { CookiesProvider } from 'react-cookie';\r\nimport { PlatformProvider } from './context/platform';\r\nimport App from './components/App';\r\nimport rootReducer from './reducers';\r\nimport router from './routes';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nconst render = () => {\r\n  const userAgent = navigator.userAgent;\r\n\r\n  const app = (\r\n    <BrowserRouter>\r\n      <Provider store={store}>\r\n        <CookiesProvider>\r\n          <PlatformProvider userAgent={userAgent}>\r\n            <App>{router()}</App>\r\n          </PlatformProvider>\r\n        </CookiesProvider>\r\n      </Provider>\r\n    </BrowserRouter>\r\n  );\r\n\r\n  ReactDOM.render(app, document.getElementById('root'));\r\n};\r\n\r\nrender();\r\n","export const SIGN_IN = 'SIGN_IN';\r\nexport const SIGN_OUT = 'SIGN_OUT';\r\nexport const STORE_USER = 'STORE_USER';\r\nexport const DELETE_USER = 'DELETE_USER';\r\nexport const UPDATE_STATE = 'UPDATE_STATE';\r\n","const config = {\r\n  API_URL: 'https://toeic-practice.herokuapp.com',\r\n  IMG_URL: 'http://123.30.235.196:5221',\r\n};\r\n\r\nexport default config;\r\n"],"sourceRoot":""}